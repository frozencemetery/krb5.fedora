This apparently-vestigial code could corrupt the stack.

diff -up krb5-1.7/src/appl/bsd/login.c krb5-1.7/src/appl/bsd/login.c
--- krb5-1.7/src/appl/bsd/login.c	2009-06-02 17:53:45.000000000 -0400
+++ krb5-1.7/src/appl/bsd/login.c	2009-06-02 17:53:47.000000000 -0400
@@ -724,7 +724,6 @@ int main(argc, argv)
     char *domain, **envinit, *ttyn, *tty;
     char tbuf[MAXPATHLEN + 2];
     char *ttyname(), *crypt(), *getpass();
-    time_t login_time;
     int retval;
     int rewrite_ccache = 1; /*try to write out ccache*/
 #ifdef KRB5_GET_TICKETS
@@ -1124,9 +1123,6 @@ int main(argc, argv)
 
     /* nothing else left to fail -- really log in */
     {
-	struct utmp utmp;
-
-	login_time = time(&utmp.ut_time);
 	if ((retval = pty_update_utmp(PTY_USER_PROCESS, getpid(), username,
 				      ttyn, hostname,
 				      PTY_TTYSLOT_USABLE)) < 0)
